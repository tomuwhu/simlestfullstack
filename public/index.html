<script>
    x = id => document.getElementById(id)
    logic = {
        f() {
            fetch("http://localhost:3000/posts").then(v => v.json()).then(v => {
                x("cont").innerHTML = v.map(u => `<div onclick="logic.g('${u.id}','${u.author}','${u.title}')">${u.author}: ${u.title}</div>`).join("")
            })
        },
        g(id, author, title) {
            document.getElementById("cont").innerHTML = `
                <form>
                    <input id="i_author" value='${author}' /><br><input id="i_title" value='${title}' /><br>
                    <button class="button" onclick="logic.put('${id}')">Ment</button>
                </form>
            `
        },
        put(id) {
            toput = {id, author: x('i_author').value, title: x('i_title').value}
            fetch(`http://localhost:3000/posts/${id}`, {
                method: "PUT",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(toput)
            })
        }
    }
</script>
<link rel="stylesheet" href="style.css">
<body onload="logic.f()">
    <h1>Cica</h1>
    <div id="cont"></div>    
</body>
